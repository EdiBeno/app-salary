<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <title>× ×™×”×•×œ ××•×¦×¨×™×</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            line-height: 1.5; /* ×©×™×¤×•×¨ ×§×¨×™××•×ª ×›×œ×œ×™×ª */
        }
        
        /* ×¡×’× ×•×Ÿ ×›×œ×œ×™ ×œ×›×œ ×ª×™×‘×•×ª ×”×§×œ×˜ ×•×”×‘×—×™×¨×” */
        input[type="text"], 
        input[type="number"], 
        button {
            height: 25px;         /* ×’×•×‘×” ××—×™×“ ×•××•×’×“×¨ */
            padding: 0 10px;      /* ×¨×™×•×•×— ×¤× ×™××™ */
            box-sizing: border-box; /* ×œ×•×•×“× ×©×”-padding ×œ× ××’×“×™×œ ××ª ×”×’×•×‘×” ××¢×‘×¨ ×œ-35px */
            vertical-align: middle; /* ×™×™×©×•×¨ ×× ×›×™ ×œ××¨×›×– */
        }

        table { width: 80%; border-collapse: collapse; margin-top: 20px; }
        th, td { 
            border: 1px solid #ddd; 
            padding: 8px 10px; /* ×¨×™×•×•×— ×¤× ×™××™ ×‘×˜×‘×œ×” */
            text-align: right; 
            vertical-align: middle; /* ×™×™×©×•×¨ ×× ×›×™ ×œ××¨×›×– */
        }
        th { background-color: #f2f2f2; }
        
        /* ×¡×’× ×•×Ÿ ×œ×˜×•×¤×¡ ×›×“×™ ×œ×™×™×©×¨ ×”×›×œ ×‘×©×•×¨×” ××—×ª */
        .form-row {
            display: flex;
            gap: 15px;          /* ×¨×•×•×— ×‘×™×Ÿ ×”××œ×× ×˜×™× ×‘×©×•×¨×” */
            align-items: flex-end; /* ××™×™×©×¨ ××ª ×”×›×¤×ª×•×¨ ×œ×ª×—×ª×™×ª ×ª×™×‘×•×ª ×”×˜×§×¡×˜ */
            margin-bottom: 20px;
        }

        .form-field {
            display: flex;
            flex-direction: column; /* ××¡×“×¨ ××ª ×”×œ×™×™×‘×œ ××¢×œ ×”××™× ×¤×•×˜ */
        }
        
        label { 
            font-weight: bold; 
            margin-bottom: 5px; /* ×¨×•×•×— ×§×˜×Ÿ ××ª×—×ª ×œ×œ×™×™×‘×œ */
        }
        
        button[type="submit"] {
            background-color: #28a745;
            color: white;
            border: none;
            cursor: pointer;
        }

        .header-row {
            display: flex;
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 10px;
        }
        .add-product-title {
            margin-top: 20px;
        }

        /* ×›×œ×œ ×—×“×© ×œ×©××™×¨×” ×¢×œ ×™×™×©×•×¨ ×”×›×¤×ª×•×¨×™× ×–×” ×œ×¦×“ ×–×” ×¢× ×¨×•×•×— ×§×˜×Ÿ */
        .header-buttons {
            display: flex;
            gap: 30px; 
            align-items: center;
        }

        /* Add this new rule: */
        .form-actions-row {
            display: flex;
            gap: 35px; /* Space between the two forms */
            align-items: center;
            margin-bottom: 20px;
        }
        
        .form-actions-row button {
             height: 0.65cm; /* Ensure buttons have consistent height */
         margin-top: 2.5mm; /* Push buttons down by 3 millimeters */
        }

    </style>

</head>
<body>
    
    <!-- Button and Title Section -->
    <div class="header-row">
        <h1>× ×™×”×•×œ ××•×¦×¨×™×</h1>

        <div class="header-buttons">

            <!-- Go to Main Page Button -->
            <a href="{{ url_for('index') }}" style="text-decoration: none;">
                <button type="button" style="font-weight: bold; width: 4.2cm; height: 0.5cm; font-size: 17px; background-color: #007bff; color: white; display: flex; align-items: center; justify-content: center;">
                    ×¢×‘×•×¨ ×œ×“×£ ×”×¨××©×™
                </button>
            </a>

            <!-- Go to Invoice Button (×›×¤×ª×•×¨ ×—×–×¨×” ×œ×—×©×‘×•× ×™×ª) -->
            <a href="{{ url_for('view_invoice') }}" style="text-decoration: none;">
                <button type="button" style="font-weight: bold; width: 4cm; height: 0.5cm; font-size: 17px; background-color: #007bff; color: white; display: flex; align-items: center; justify-content: center;">
                    ×¢×‘×•×¨ ×œ×—×©×‘×•× ×™×ª 
                </button>
            </a>
        </div>
    </div>

    <!-- Add Product Title -->
    <h2 class="add-product-title">×”×•×¡×£ ××•×¦×¨ ×—×“×©</h2>

    <!-- Wrap the main add product form and the delete button form in a single flex container -->
    <div class="form-actions-row">

        <!-- Form Section (Fixed to one row) -->
        <form method="POST" action="{{ url_for('manage_products') }}">
            <div class="form-row">
                <div class="form-field">
                    <label for="name">×©× ×”××•×¦×¨:</label>
                    <input type="text" id="name" name="name" required>
                </div>

                <div class="form-field">
                    <label for="price">××—×™×¨:</label>
                    <input type="number" id="price" name="price" step="0.01" required style="width: 100px;">
                </div>

                <div class="form-field">
                    <label for="description">×ª×™××•×¨:</label>
                    <input type="text" id="description" name="description">
                </div>
     
                <!-- Save Product Button -->           
                <button type="submit" style="font-weight: bold; width: 2.6cm; height: 0.65cm; font-size: 17px; background-color: #007bff; color: white; display: flex; align-items: center; justify-content: center;">
                    ×©××•×¨ ××•×¦×¨
                </button>
            </div>
        </form>

        <!-- Delete Form - Now aligned using the parent form-actions-row container -->
        <form id="delete-form" method="POST" action="{{ url_for('delete_selected_products') }}" onsubmit="return confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××ª ×”××•×¦×¨×™× ×©× ×‘×—×¨×•?');">
            <!-- No inner form-row needed here -->
                <button type="submit" class="delete-button" style="font-weight: bold; width: 3.8cm; height: 0.65cm; font-size: 17px; background-color: #f44336; color: white; display: flex; align-items: center; justify-content: center;">
                    ğŸ—‘ï¸ ××—×§ × ×‘×—×¨×™×
            </button>
            </div>
        </form>

    <h2>×¨×©×™××ª ××•×¦×¨×™× ×§×™×™××™×</h2>
    <table>
        <thead>
            <tr>
                <th>×‘×—×¨</th> <!-- ADDED CHECKBOX HEADER -->
                <th>×©× ×”××•×¦×¨</th>
                <th>××—×™×¨</th>
                <th>×ª×™××•×¨</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
                <tr>
                    <td style="text-align: center;">
                        <!-- ADDED CHECKBOX FOR DELETION LOGIC -->
                        <input type="checkbox" name="delete_products" value="{{ product.id }}">
                    </td>
                    <td>{{ product.name }}</td>
                    <td>{{ product.price }}</td>
                    <td>{{ product.description }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!--  DevTools F12 Browser Blocker Script  -->
    <script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool"></script>

</body>
</html>
